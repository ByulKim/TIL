# 컬렉션 Collection

## Collections 및 자료구조

### 컬렉션

---
- 목록성 데이터를 처리하는 자료구조
- 자료구조란 ? 어떤 정보를 담는 구조, 보관하는 구조
- Collection 인터페이스
    - Iterable 인터페이스를 확장(상속)한다.
        - iterator 메서드를 가지고 있으며 Iterator 인스턴스를 리턴한다.
- 자료구조
- 컬렉션 인터페이스
- 주요 기능
    - add : 요소(Element)를 추가
    - clear : 모든 요소를 삭제
    - contains : 매개변수로 넘어온 객체들이 존재하는지 확인
    - equals : 매개변수로 받은 객체와 같은지 확인
    - isEmpty: 컬렉션이 비어있는지 확인
    - remove : 삭제
    - size : 요소의 개수를 리턴 (저장공간의 크기를 의미하는 것 아님)
    - toArray : 컬렉션에 있는 데이터들을 배열로 변환
- 구현
    - 목록(List) : 자료에 순서를 매겨 보관한다.
        - **ArrayList : 확장 가능한 배열**
            - not thead safe
            - 기본 생성자를 통해 생성할 시 초기 크기는 10
            - 10을 넘어가면 자동으로 크기를 늘이는 작업을 하지만 성능에 영향을 줄 수 있다
            - 어느정도 예측이 가능하면 처음 생성시에 초기화 해주는 것이 좋다.
            - 새로운 데이터를 담을 때 인덱스를 지정하여 추가하면 기존에 있던 데이터들이 하나씩 뒤로 밀려나게 된다.
            - toArray(T[] a)
                - 배열로 변환할 때 타입을 지정하지 않으면 Object 배열로 설정되므로 타입을 지정하는 메서드를 사용하는것이 좋다.
                - 인자를 크기가 있는 배열로 넘겼을 때 실제 ArrayList 에 담긴 데이터보다 크기가 크다면 빈 공간에는 null 이 들어간다.
                - 해서 [0]으로 넘겨주는 것이 좋다.
        - **LinkedList : 목록에도 속하고 큐에도 속함**
            - 열차처럼 데이터를 연결하여 보관한다.
            - 자신의 앞과 뒤에 있는 데이터만 기억한다.
            - 배열과 구조가 비슷하지만, 중간에 위치하는 데이터를 삭제하거나 추가하는 경우 메모리 공간 측면에서 훨씬 유리하다.
              배열의 경우 중간에 값이 추가/삭제되면 그 뒤의 데이터의 위치를 모두 맞춰 주어야 한다.
              하지만 링크드리스트의 경우, 빠진 데이터의 앞 뒤를 서로 연결만 해주면 된다.
            - 배열타입들 처럼 미리 크기를 지정하여 생성하지 않음
            - 데이터를 추가하는 메서드의 종류가 많아 한가지만 선정하는 것이 좋음 (주로 add~)
            - 삭제의 경우에도 remove~ 메서드를 주로 사용하는 것이 좋다.
        - Stack : LIFO 지원
            - thread safe
            - peek() : 가장 위에 있는 데이터를 리턴한다.
            - pop() : 가장 위에 있는 데이터를 지우고, 리턴한다.
            - push(E e) : 데이터를 가장 위에 저장한다.
            - search(Object o) : 위치를 리턴한다.
    - 셋(Set) : 자료에 순서가 중요하지 않아 순서없이보관한다.
        - 순서와 상관없이 어떤 데이터가 존재하는지 확인하는 용도로 많이 쓰인다.
        - 중복되는 것을 방지하고, 원하는 값이 포함되었는지 확인하는 것이 주 용도이다.
        - HashSet : 순서가 전혀 필요하지 않은 데이터를 해시 테이블에 저장한다. (가장 성능이 좋다.)
            - → LinkedHashSet
                - 연결된 목록 타입으로 구현된 해시 테이블에 데이터를 저장한다. (성능X)
        - TreeSet : 저장된 데이터의 값에 따라 정렬된다.
            - red-black 이라는 트리 타입으로 값이 저장된다.
        - 로드팩터 : 데이터의 개수 / 저장 공간
    - 큐(Queue) : 먼저 들어온 순서대로 보관하고, 먼저 내보낸다.
        - 여러 쓰레드에서 들어오는 작업을 순차적으로 처리할 때 많이 사용한다.
        - **LinkedList**
        - PriorityQue

### 맵(Map)

---
- 모든 데이터는 키와 값이 존재한다. (키가 없이 값만 저장될 수 없다.)
- 키는 해당하는 Map에서 고유해야 한다. (값은 중복이 가능하다.)
- 주요 기능
  - put( K key, V value) : key-value 의 데이터를 저장한다.
  - get (Object key) : 매개변수로 넘어온 키에 해당하는 값을 리턴한다.
  - remove(Object key) : 매개변수로 넘어온 키에 해당하는 값을 삭제하고, 리턴한다.
  - keyset() : 키의 목록을 Set 타입으로 리턴한다.
  - values() : 값의 목록을 Collection 타입으로 리턴한다.
  - entrySet() : 하나의 키와 값의 쌍을 리턴한다.
  - size() : map의 크기를 리턴한다.
  - clear(): map의 내용을 지운다.
- 구현
  - HashMap
    - 일반적으로 기본 생성자를 사용 → 초기 크기는 16으로 지정됨
    - 데이터의 개수가 많은 경우에는 초기 크기를 지정해주는 것이 권장된다.
    - 컬렉션에서는 존재하지 않는 위치의 데이터를 호출하면 오류 발생하지만
      map에서는 null을 리턴한다.
    - 이미 존재하는 키로 값을 넣을때는 값이 변경된다.
    - → LinkedHashMap
  - TreeMap
    - 데이터를 저장하면서 키를 정렬한다.
    - 숫자 > 알파벳 대문자 > 알파벳 소문자 > 한글 순으로 정렬 (키가 객체일때는 다름)
    - SortedMap 이라는 인터페이스를 구현하였다.
    - 가장 앞/뒤에 있는 키, 특정 키의 앞/뒤에 있는 키를 알 수 있는 메서드를 제공한다.
    - Properties 클래스
      - HashTable을 확장하여 Map의 기능을 사용할 수 있다.
      - 시스템의 속성을 제공한다.
      - 키-값 으로 속성들을 확인할 수 있고, 설정할 수도 있다.
>   참고
>   Shallow Copy - 일반적인 대입, 참조형 변수의 주소값을 복사해 하나의 객체를 함께 바라본다. 
>   Deep Copy - 객체의 모든 값을 복제하여 복제된 값을 변경해도 원본에 영향이 없게 하는 것이다.