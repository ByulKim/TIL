## Generic (제네릭)

---
- 클래스나 메서드에서 사용되는 타입을 일반화 하는 방법
- 장점
  - 제네릭으로 클래스를 정의하면 같은 상위 타입이 같지 않은 인스턴스라도 같은 기능을 사용할 수 있다. (코드 재사용성)
  - 제네릭을 사용하면 형변환 없이 사용이 가능하여, 코드의 간결성이 높아지고 잘못된 형변환의 오류를 방지할 수 있다.
  - 컴파일 시에 타입 안전성을 보장한다.
    - 컴파일러가 제네릭으로 정의된 클래스, 메서드 코드를 분석 → 타입을 체크하여 안전성을 보장한다.
    - 컴파일 시에 필요하면 타입 캐스팅을 추가한다.
- 단점
  - 제네릭을 과도하게 사용하면 코드의 가독성이 감소할 수 있다.
  - 컴파일 시에 추가적인 타입 체크가 이루어져 성능 저하가 일어날 수 있다. (거의 미미한 수준)
  - 모든 타입을 처리할 수 있는 메서드를 생성하는 것은 복잡하고, 놓치는 부분이 생길 수 있다.
    - 생성하는 일보단, 이미 정의된 클래스를 사용하는 일이 더 많다.
  - 런타임 시의 타입 안전성을 보장하지 않는다. : 타입 소거
    - 컴파일 시에만 타입을 체크하고, 타입은 소거되기 때문에 런타임시에는 각 타입이 아닌 Object/(Bounded Wildcard의 경우)부모 타입 으로 처리된다.

### 제네릭 타입

---
- 클래스 내부에서 사용할 변수의 타입을 객체를 생성할 때나 메서드를 호출할 때 지정해 주는 것을 의미한다.
- 클래스 선언시에 클래스명 옆의<>꺽쇠로 되어 있다면 제네릭 클래스이다.
- 어떤 타입이든 넣을 수 있다.
- 매개변수로 여러 타입의 멤버를 가진 객체를 받고 싶다면 wildcard 타입(?)을 사용하면 된다. <?>
- wildcard 타입
  ```java
  public void wildcardTest(GenericSample<?> g) {
  }
  ```
  - 여러 타입을 대입할 수 있는 것을 의미한다.
  - 기본적으로 어떤 타입이든 가능하다.
  - 꺽쇠 안의 ? 표로 표시한다.`<?>`
  - wildcard 타입은 매개변수에서만 주로 사용한다.
      - 무엇인지 모르는 타입으로 객체를 선언하면, 가져올 수 없기 때문이다.
  - wildcard 타입을 이용해 범위를 지정할 수 있다.
      - Bounded Wildcard
        ```java
        public void boundedWildcardTest(GenericSample<? extends Animal> g) {
        }
        ```
        - 이렇게 선언하면 Animal 클래스를 상속받은 객체만 매개변수로 받을 수 있다.

### 제네릭 메서드

---
```java
public <T> void test(GenericSample<T> g, T addValue) {
}
```
- wildcard 를 사용하여 정의한 메서드에서는 매개변수로 사용된 객체에 값을 추가할 수 없다는 단점이 있다.
  - 이를 보완하고자 나온것이 제네릭 메서드이다.
- 매개변수에 타입을 지정한 객체와, 그 타입의 값을 함께 받을 수 있게 정의한 메서드이다.
- 설정한 제네릭 타입이 여러개라면 , 를 통해 구분할 수 있다.
- 객체를 받는 것이 아닌, 일반 값만 받고도 사용할 수 있다.
- Bounded Generic Method
  ```java
  public <T extends Animal> void test(GenericSample<T> g, T addValue) {
  }
  ```
  - Bounded Wildcard처럼 범위를 지정하여 사용할 수 있다.

### 제네릭과 다형성의 비교

---
- 다형성
  - 상위(부모클래스, 인터페이스) 타입에 하위 인스턴스를 대입
  - 매개변수를 상위 타입으로 하고 하위 타입을 받아 처리하면, 하나의 메서드를 통해 여러 하위 타입을 처리할 수 있다.
    - 메서드 오버라이딩 덕분

- 제네릭
  - 관계에 상관없이 여러 타입으로 클래스의 멤버를 정의하거나, 매개변수로 받아 메서드에서 사용할 수 있다.
  - 컴파일 시에 타입 체크를 통해 타입 오류를 예방할 수 있다.



> 다형성은, 각각의 인스턴스를 기능을 상위 타입을 통해 사용
> 제네릭은, 해당 클래스의 기능을 여러 인스턴스가 사용

```
사과와 포도가 있다.   
이들은 모두 과일의 한 종류인데, 과일은 열매가 익으면 수확을 해야한다.   
이때 각각의 수확법은 사과 클래스와 포도 클래스 안에 정의해두고 (오버라이딩),   
‘과일 수확하자!' 라고 외치며 사과와 포도를 수확한다. (이것이 다형성)   

이제 수확한 사과와 포도를 박스에 넣어서 포장하려는데,   
박스에 사과를 담으면 사과 박스가,   
포도를 담으면 포도 박스가 되니 박스만 있으면 되겠다!

박스라는 클래스를 만들고 박스 안의 멤버를 사과로 받거나 포도로 받거나 설정한다면   
박스 클래스로 여러 과일을 담을 수 있다. (이것이 제네릭)
```

