> [자바의 신] 서적을 읽으며 공부한 내용 기록

# Java 의 역사 (JVM, GC)

자바는 **Write Once, Run Anywhere(WORA)** (하나의 코드로 여러 플랫폼에서 실행가능한) 언어를 목표로 개발되었다.


### JDK / JRE

---

1. JDK : java development kit
    - 표준 스펙에 따라 개발
    - 컴파일러, 실행 라이브러리, JVM 포함
2. JRE : java runtime environment
    - 실행만을 위한 환경 구성

### JIT (Just-In-Time) 컴파일러

---

- 자바의 컴파일러(javac)는 작성한 코드를 바이트 코드로 변환한다.
  - 이로 인해 생성된 .class 파일을 여러 OS에서 공통으로 사용한다.
- 컴파일 이후 실행되려면 컴퓨터가 읽을 수 있도록 바이트 코드를 기계어로 변환해야한다.
    - JVM이 인터프리터의 역할을 하며 실행시점에 기계어로 변환한다.
    - 인터프리터로 코드를 변환하며 실행하는 경우, 실행 속도가 느릴 수밖에 없다.
- 이때 JIT 컴파일러는 자주 사용하는 코드를 메모리에 저장해두고 다시 변환하지 않도록 하여 실행 속도를 높인다.

### JVM

---

1. Hotspot JVM
   - 클라이언트 컴파일러
       - CPU코어가 하나뿐인 사용자를 위해 만들어진 컴파일러
       - 적은 메모리 점유, 애플리케이션 시작 시간을 빠르게 한다.
   - 서버 컴파일러
       - CPU코어가 많은 사용자를 위해 만들어진 컴파일러
       - 수행 속도에 초점이 맞추어져 있다.
   - 자바 실행시에 자동으로 클라이언트인지 서버인지 확인힌디.
       - (조건) 2개 이상의 물리적 프로세서, 2기가 이상의 물리적 메모리이면 서버 컴파일러를 실행
   - 어떤 컴파일러를 사용하는 것이 왜 중요한가 ?
       - 실제 동작하는 환경에 따라 맞춰줄 필요가 있기 때문이다.

2. JVM
   - 자바 프로그램을 수행하는 프로세스들이 동작하는 곳이다.
   - GC (가비지 컬렉터)
     - 더이상 참조하는 변수가 없는 인스턴스들을 모아 삭제하며 메모리를 관리한다.
     - 힙 영역에 존재하는 객체를 관리한다.
     - 힙 영역
         - young : 최근에 생성된 객체가 보관되는 장소 (가장 최근은 그 중에서도 eden 부분)
         - old : 오래 살아님은 객체가 보관되는 장소
     - GC의 방식은 여러가지가 있고, 성능에 맞춰 사용해야 한다.