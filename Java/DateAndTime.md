## 날짜와 시간

* * *

- 날짜와 시간을 계산하는 것은 생각보다 복잡하다.
    - 윤년, 각 달의 일수, 썸머타임(DST), 타임존 등을 고려해야 한다.
- 타임존
    - London, GMT, UTC(조금 더 정밀) : 세계 시간의 기준이 되는 00:00 시간대
    - 서울 : UTC+9
- 날짜와 시간을 처리하기 위한 잘 설계된 라이브러리를 사용해야 한다.
- 자바는 이 라이브러리를 지속해서 업데이트 했다.
    - `Date`, `Calendar` : 사용성이 떨어짐
    - `Joda-Time` : 외부 라이브러리
    - `java.time` 패키지 (자바 8 ~)
        - 날짜와 시간 계산을 단순화 했다.
        - Joda-Time 의 많은 기능을 자바 플랫폼으로 가져왔다. (Joda-Time 의 개발자를 데려왔다!)

### java.time 패키지

* * *

- 고정 타임존 (현지, 특정 지역의 날짜/시간대)
    - Local → 세계 시간대를 고려하지 않아서 타임존이 적용되지 않음
    - `LocalDate`: 날짜만 표현 (년, 월, 일)
        - `now()`: 현재 날짜 기준으로 생성
        - `of(2024, 11, 11)`: 특정 날짜를 기준으로 생성
        - `plus~()` : 날짜를 더함
    - `LocalTime`: 시간만을 표현 (시, 분, 초)
        - 밀리초, 나노초 단위 포함 가능
        - `now()`: 현재 시간 기준으로 생성
        - `of(10, 10, 11)`: 특정 시간을 기준으로 생성
        - `plus~()` : 시간을 더함
    - `LocalDateTime`: 위 두가지를 합하여 표현 (년, 월, 일, 시, 분, 초)
        - `LocalDate`,`LocalTime`을 멤버로 가짐
        - `toLocalDate()`: 날짜만 꺼냄
        - `toLocalTime()`: 시간만 꺼냄
        - `isEquals()`: 다른 날짜시간과 시간적으로 동일한지 비교한다.
            - 서울의 9시 = UTC의 0시 처럼 시간적으로 동일하면 true
            - `equals()`
                - 객체 내부의 모든 구성요소가 같아야 한다.

- 타임존 고려
    - `ZonedDateTime`: 타임존 포함 시간대 표현
        - 일광 절약 시간제(썸머타임)에 대한 정보 + 오프셋 정보
        - `ZoneId`: 타임존 클래스
            - `of("Asia/Seoul")`: 특정 타임존을 기준으로 생성

    - `OffsetDateTime`: 시간대를 고려한 날짜와 시간 표현 (타임존 정보는 없음)


- `Instant`
    - Epoch time, Unix timestamp
    - UTC를 기준으로 시간의 한 지점을 나타낸다.
    - 날짜와 시간을 나노초 정밀도로 표현한다.
    - 내부에는 초 데이터만 들어있다.
    - 1970년 1월 1일 0시 0분 0초 기준으로 경과한 시간으로 계산한다.
    - 전 세계적으로 일관된 시점을 표현할 때 사용하기 좋다.
    - 데이터 베이스에 저장하는 시간으로 사용하면 일관성을 유지하기 좋다.


- 시간의 간격
    - `Period`: 두 날짜 사이의 간격을 년, 월, 일 단위로 나타낸다.
    - `Duration`: 두 시간 사이의 간격을 시, 분, 초(나노초) 단위로 나타낸다.


- 핵심 인터페이스
    - 시각
        - `TemporalAccessor`
    - 시간 간격
        - `TemporalAmount`
    - 시간의 단위
        - `TemporalUnit`

    - 시간의 필드
        - `TemporalField`
        - 날짜와 시간의 특정 부분을 나타낸다.